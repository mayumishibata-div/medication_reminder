<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>薬の飲み忘れ防止アプリのご提案</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; }
        .accordion-content.open { max-height: 500px; /* Adjust as needed */ }
        .chart-container { position: relative; width: 100%; max-width: 320px; margin-left: auto; margin-right: auto; height: 320px; max-height: 320px; }
        @media (min-width: 768px) {
            .chart-container { max-width: 400px; height: 400px; max-height: 400px;}
        }
        .checkbox-label:has(input:checked) { text-decoration: line-through; color: #9ca3af; }
    </style>
</head>
<body class="bg-stone-100 text-stone-800">

    <header class="bg-orange-500 text-white shadow-lg">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center">
            <h1 class="text-3xl md:text-4xl font-bold">薬の飲み忘れ防止アプリのご提案</h1>
            <p class="mt-2 text-orange-50">お薬の服用に関する課題を、テクノロジーでサポートします。</p>
        </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">

        <section id="problem" class="mb-12 p-6 bg-white rounded-xl shadow-lg">
            <h2 class="text-2xl font-semibold text-orange-700 mb-4">はじめに：薬の飲み忘れという課題</h2>
            <p class="text-lg leading-relaxed">薬の服用は、健康維持や治療において非常に重要です。しかし、多くの方が「薬の飲み忘れ」や「複雑な服薬スケジュールの管理」といった課題に直面しています。これらの課題は、治療効果の低下や健康リスクの増大に繋がる可能性があります。このご提案では、そうした課題を解決するための一つの手段として、薬の飲み忘れ防止アプリをご紹介します。</p>
        </section>

        <section id="target-users" class="mb-12">
            <h2 class="text-2xl font-semibold text-orange-700 mb-6 text-center">このような方々へ</h2>
            <p class="text-center text-lg mb-8 text-stone-600">このアプリは、薬の服用を習慣化する必要があるすべての人々、特に以下のような課題をお持ちの方々をサポートします。</p>
            <div class="space-y-6">
                <div class="accordion-item bg-white rounded-xl shadow-lg overflow-hidden">
                    <button class="accordion-header w-full text-left p-6 bg-orange-50 hover:bg-orange-100 focus:outline-none transition duration-150 ease-in-out">
                        <div class="flex justify-between items-center">
                            <h3 class="text-xl font-medium text-orange-700">高齢者の方々</h3>
                            <span class="accordion-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 text-orange-700 transition-transform duration-300 ease-in-out">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                                </svg>
                            </span>
                        </div>
                    </button>
                    <div class="accordion-content p-6 border-t border-stone-200">
                        <ul class="list-disc list-inside space-y-2 text-stone-700 leading-relaxed">
                            <li>複数の薬を服用しており、種類やタイミングが複雑で混乱しやすい。</li>
                            <li>認知機能の低下により、薬を飲んだかどうかを忘れてしまうことがある。</li>
                            <li>家族が離れて暮らしている場合、服用状況を把握しにくい。</li>
                        </ul>
                    </div>
                </div>

                <div class="accordion-item bg-white rounded-xl shadow-lg overflow-hidden">
                    <button class="accordion-header w-full text-left p-6 bg-orange-50 hover:bg-orange-100 focus:outline-none transition duration-150 ease-in-out">
                        <div class="flex justify-between items-center">
                            <h3 class="text-xl font-medium text-orange-700">慢性疾患を持つ方々</h3>
                            <span class="accordion-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 text-orange-700 transition-transform duration-300 ease-in-out">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                                </svg>
                            </span>
                        </div>
                    </button>
                    <div class="accordion-content p-6 border-t border-stone-200">
                        <ul class="list-disc list-inside space-y-2 text-stone-700 leading-relaxed">
                            <li>長期にわたり毎日薬を服用する必要があり、飲み忘れが病状の悪化に直結する。</li>
                            <li>多忙な生活の中で、つい服用時間を逃してしまう。</li>
                            <li>薬の管理がストレスとなり、服薬アドヒアランス（指示通りに薬を服用すること）が低下する。</li>
                        </ul>
                    </div>
                </div>

                <div class="accordion-item bg-white rounded-xl shadow-lg overflow-hidden">
                    <button class="accordion-header w-full text-left p-6 bg-orange-50 hover:bg-orange-100 focus:outline-none transition duration-150 ease-in-out">
                        <div class="flex justify-between items-center">
                            <h3 class="text-xl font-medium text-orange-700">一時的に薬を服用する方々</h3>
                            <span class="accordion-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 text-orange-700 transition-transform duration-300 ease-in-out">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                                </svg>
                            </span>
                        </div>
                    </button>
                    <div class="accordion-content p-6 border-t border-stone-200">
                        <ul class="list-disc list-inside space-y-2 text-stone-700 leading-relaxed">
                            <li>普段薬を飲む習慣がないため、飲み忘れやすい。</li>
                            <li>服用期間が決まっている薬の場合、いつまで飲むべきか分からなくなる。</li>
                        </ul>
                    </div>
                </div>
                
                <div class="accordion-item bg-white rounded-xl shadow-lg overflow-hidden">
                    <button class="accordion-header w-full text-left p-6 bg-orange-50 hover:bg-orange-100 focus:outline-none transition duration-150 ease-in-out">
                        <div class="flex justify-between items-center">
                            <h3 class="text-xl font-medium text-orange-700">薬の管理をサポートするご家族</h3>
                            <span class="accordion-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 text-orange-700 transition-transform duration-300 ease-in-out">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                                </svg>
                            </span>
                        </div>
                    </button>
                    <div class="accordion-content p-6 border-t border-stone-200">
                        <ul class="list-disc list-inside space-y-2 text-stone-700 leading-relaxed">
                            <li>離れて暮らす親や、同居する家族の薬の飲み忘れが心配。</li>
                            <li>手書きのメモや口頭での確認では、正確な服用状況を把握しきれない。</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="solutions" class="mb-12">
            <h2 class="text-2xl font-semibold text-orange-700 mb-6 text-center">アプリによる解決策</h2>
            <p class="text-center text-lg mb-8 text-stone-600">このアプリは、以下の機能を通じて服薬に関する課題を解決します。各タブをクリックして詳細をご覧ください。</p>
            <div>
                <div class="mb-4 border-b border-stone-300 flex flex-wrap justify-center">
                    <button class="tab-button py-3 px-5 text-lg font-medium text-stone-600 hover:text-orange-700 border-b-2 border-transparent hover:border-orange-600 focus:outline-none active" data-tab="tab1">スケジュール可視化</button>
                    <button class="tab-button py-3 px-5 text-lg font-medium text-stone-600 hover:text-orange-700 border-b-2 border-transparent hover:border-orange-600 focus:outline-none" data-tab="tab2">服用チェック</button>
                    <button class="tab-button py-3 px-5 text-lg font-medium text-stone-600 hover:text-orange-700 border-b-2 border-transparent hover:border-orange-600 focus:outline-none" data-tab="tab3">服用履歴</button>
                    <button class="tab-button py-3 px-5 text-lg font-medium text-stone-600 hover:text-orange-700 border-b-2 border-transparent hover:border-orange-600 focus:outline-none" data-tab="tab4">その他機能</button>
                </div>

                <div id="tab1" class="tab-content active p-6 bg-white rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold text-orange-600 mb-3">服用スケジュールの可視化と自動生成</h3>
                    <p class="text-stone-700 leading-relaxed">ユーザーは薬の名前、服用量、服用タイミング（朝食後、夕食前など）を一度登録するだけで、アプリが日々の服用スケジュールを自動的に生成します。これにより、複雑な服薬スケジュールを手動で管理する手間が省け、<strong>「いつ、何を、どれだけ飲むべきか」が一目で明確になります。</strong></p>
                </div>
                <div id="tab2" class="tab-content p-6 bg-white rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold text-orange-600 mb-3">シンプルな服用チェック機能</h3>
                    <p class="text-stone-700 leading-relaxed">各薬の服用予定時刻に、チェックボックスが表示され、服用したらタップするだけで「服用済み」として記録できます。これにより、<strong>「薬を飲んだかどうか」を簡単に記録・確認でき、飲み忘れの不安を解消します。</strong></p>
                </div>
                <div id="tab3" class="tab-content p-6 bg-white rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold text-orange-600 mb-3">服用履歴の記録と確認</h3>
                    <p class="text-stone-700 leading-relaxed">日ごと、週ごと、月ごとの服用履歴を一覧で確認できます。飲み忘れがあった場合は、それが明確に表示されます。これにより、<strong>自身の服薬状況を客観的に把握でき、飲み忘れの傾向を分析して改善に役立てることができます。</strong></p>
                </div>
                <div id="tab4" class="tab-content p-6 bg-white rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold text-orange-600 mb-3">（オプション）便利な追加機能</h3>
                    <ul class="list-disc list-inside space-y-2 text-stone-700 leading-relaxed">
                        <li><strong>リマインダー通知:</strong> 服用時間になったら、プッシュ通知などでユーザーに知らせます。多忙な中でも服用を忘れるリスクを最小限に抑え、服薬アドヒアランスを向上させます。</li>
                        <li><strong>複数人管理機能:</strong> 家族の薬の服用状況もまとめて管理できるため、離れて暮らす親の服薬サポートにも活用できます。家族間のコミュニケーションを円滑にし、安心して薬の管理を任せられるようになります。</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="interactive-demo" class="mb-12 p-6 bg-white rounded-xl shadow-lg">
            <h2 class="text-2xl font-semibold text-orange-700 mb-6 text-center">アプリの動作イメージ</h2>
            <p class="text-center text-lg mb-8 text-stone-600">簡単なデモを通じて、アプリの主要な機能がどのように役立つかをご覧ください。</p>
            <div class="grid md:grid-cols-2 gap-8 items-start">
                <div class="p-6 bg-stone-50 rounded-lg shadow">
                    <h3 class="text-xl font-semibold text-orange-600 mb-4">模擬服用スケジュール (本日分)</h3>
                    <p class="text-sm text-stone-600 mb-4">以下の薬を服用したらチェックを入れてください。右のグラフが更新されます。</p>
                    <div id="medication-schedule" class="space-y-3">
                        <label class="checkbox-label flex items-center p-3 bg-white rounded-md shadow-sm hover:bg-stone-100 transition">
                            <input type="checkbox" class="form-checkbox h-5 w-5 text-orange-600 border-stone-300 rounded focus:ring-orange-500" data-dose="1">
                            <span class="ml-3 text-stone-700">朝食後: ビタミンC (1錠)</span>
                        </label>
                        <label class="checkbox-label flex items-center p-3 bg-white rounded-md shadow-sm hover:bg-stone-100 transition">
                            <input type="checkbox" class="form-checkbox h-5 w-5 text-orange-600 border-stone-300 rounded focus:ring-orange-500" data-dose="2">
                            <span class="ml-3 text-stone-700">昼食後: 胃薬 (1包)</span>
                        </label>
                        <label class="checkbox-label flex items-center p-3 bg-white rounded-md shadow-sm hover:bg-stone-100 transition">
                            <input type="checkbox" class="form-checkbox h-5 w-5 text-orange-600 border-stone-300 rounded focus:ring-orange-500" data-dose="3">
                            <span class="ml-3 text-stone-700">夕食後: 血圧の薬 (1錠)</span>
                        </label>
                        <label class="checkbox-label flex items-center p-3 bg-white rounded-md shadow-sm hover:bg-stone-100 transition">
                            <input type="checkbox" class="form-checkbox h-5 w-5 text-orange-600 border-stone-300 rounded focus:ring-orange-500" data-dose="4">
                            <span class="ml-3 text-stone-700">就寝前: 睡眠導入剤 (1錠)</span>
                        </label>
                    </div>
                    <p id="doses-taken-info" class="mt-4 text-sm text-stone-600">服用済み: 0 / 4</p>
                </div>

                <div class="p-6 bg-stone-50 rounded-lg shadow">
                    <h3 class="text-xl font-semibold text-orange-600 mb-4 text-center">本日の服用状況</h3>
                      <div class="chart-container">
                        <canvas id="adherenceChart"></canvas>
                      </div>
                </div>
            </div>
            <div class="mt-8 p-6 bg-stone-50 rounded-lg shadow">
                <h3 class="text-xl font-semibold text-orange-600 mb-4">模擬服用履歴 (過去3日間)</h3>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-stone-200">
                        <thead class="bg-stone-100">
                            <tr>
                                <th class="px-4 py-3 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">日付</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">朝</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">昼</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">夕</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">就寝前</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-stone-200">
                            <tr>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-stone-700">昨日</td>
                                <td class="px-4 py-3 text-sm"><span class="text-green-500">✔</span></td>
                                <td class="px-4 py-3 text-sm"><span class="text-green-500">✔</span></td>
                                <td class="px-4 py-3 text-sm"><span class="text-red-500">✖</span></td>
                                <td class="px-4 py-3 text-sm"><span class="text-green-500">✔</span></td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-stone-700">一昨日</td>
                                <td class="px-4 py-3 text-sm"><span class="text-green-500">✔</span></td>
                                <td class="px-4 py-3 text-sm"><span class="text-green-500">✔</span></td>
                                <td class="px-4 py-3 text-sm"><span class="text-green-500">✔</span></td>
                                <td class="px-4 py-3 text-sm"><span class="text-green-500">✔</span></td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-stone-700">3日前</td>
                                <td class="px-4 py-3 text-sm"><span class="text-green-500">✔</span></td>
                                <td class="px-4 py-3 text-sm"><span class="text-red-500">✖</span></td>
                                <td class="px-4 py-3 text-sm"><span class="text-red-500">✖</span></td>
                                <td class="px-4 py-3 text-sm"><span class="text-green-500">✔</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <section id="conclusion" class="py-12 bg-orange-500 text-white rounded-xl shadow-lg">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-3xl font-bold mb-6">まとめ：より安心な服薬生活のために</h2>
                <p class="text-lg md:text-xl leading-relaxed max-w-3xl mx-auto text-orange-50">この薬の飲み忘れ防止アプリは、薬の服用に関する不安や手間を軽減し、ユーザーがより安心して、そして健康的に日常生活を送れるようサポートします。テクノロジーを活用することで、服薬管理をよりシンプルかつ確実なものにし、皆様のQOL（生活の質）向上に貢献することを目指しています。</p>
            </div>
        </section>

        <section class="text-center py-10">
            <h2 class="text-2xl font-semibold mb-4 text-orange-700">今すぐアプリを試してみる</h2>
            <p class="text-lg text-stone-600 mb-6">クリックして、あなたの服薬管理を始めましょう。</p>
            <a href="/dashboard" class="inline-block bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-8 rounded-lg text-xl shadow-md transition duration-300 ease-in-out">
                アプリへ進む
            </a>
        </section>

    </main>

    <footer class="bg-stone-800 text-stone-400 py-8 text-center">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <p>&copy; 2024 薬の飲み忘れ防止アプリ提案. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Accordion
            const accordionHeaders = document.querySelectorAll('.accordion-header');
            accordionHeaders.forEach(header => {
                header.addEventListener('click', function () {
                    const content = this.nextElementSibling;
                    const item = this.parentElement;
                    const iconSvg = this.querySelector('.accordion-icon svg');
                    
                    // Close other open accordions
                    document.querySelectorAll('.accordion-item').forEach(otherItem => {
                        if (otherItem !== item && otherItem.classList.contains('open')) {
                            otherItem.classList.remove('open');
                            otherItem.querySelector('.accordion-content').style.maxHeight = null;
                            const otherIconSvg = otherItem.querySelector('.accordion-header .accordion-icon svg');
                            if (otherIconSvg) {
                                otherIconSvg.classList.remove('rotate-180');
                            }
                        }
                    });

                    item.classList.toggle('open');
                    if (iconSvg) {
                        iconSvg.classList.toggle('rotate-180');
                    }

                    if (content.style.maxHeight) {
                        content.style.maxHeight = null;
                    } else {
                        content.style.maxHeight = content.scrollHeight + "px";
                    }
                });
            });

            // Tabs
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            tabButtons.forEach(button => {
                button.addEventListener('click', function () {
                    tabButtons.forEach(btn => btn.classList.remove('active', 'text-orange-700', 'border-orange-600'));
                    this.classList.add('active', 'text-orange-700', 'border-orange-600');
                    
                    tabContents.forEach(content => content.classList.remove('active'));
                    document.getElementById(this.dataset.tab).classList.add('active');
                });
            });
            // Activate first tab by default
            if (tabButtons.length > 0) {
                tabButtons[0].classList.add('text-orange-700', 'border-orange-600');
            }


            // Chart.js
            const ctx = document.getElementById('adherenceChart').getContext('2d');
            const totalDoses = 4;
            let dosesTaken = 0;
            
            const chartData = {
                labels: ['服用済み', '未服用'],
                datasets: [{
                    label: '服用状況',
                    data: [dosesTaken, totalDoses - dosesTaken],
                    backgroundColor: [
                        'rgb(249, 115, 22)', // orange-500
                        'rgb(229, 231, 235)' // stone-200
                    ],
                    borderColor: [
                        'rgb(249, 115, 22)',
                        'rgb(229, 231, 235)'
                    ],
                    borderWidth: 1,
                    hoverOffset: 4
                }]
            };

            const adherenceChart = new Chart(ctx, {
                type: 'doughnut',
                data: chartData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                font: { size: 14 },
                                color: '#374151' // stone-700
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        label += context.parsed + '回';
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });

            const medicationCheckboxes = document.querySelectorAll('#medication-schedule input[type="checkbox"]');
            const dosesTakenInfo = document.getElementById('doses-taken-info');

            function updateChartAndInfo() {
                dosesTaken = 0;
                medicationCheckboxes.forEach(checkbox => {
                    if (checkbox.checked) {
                        dosesTaken++;
                    }
                });
                adherenceChart.data.datasets[0].data = [dosesTaken, totalDoses - dosesTaken];
                adherenceChart.update();
                dosesTakenInfo.textContent = `服用済み: ${dosesTaken} / ${totalDoses}`;
            }
            
            medicationCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', updateChartAndInfo);
            });
            
            updateChartAndInfo(); // Initial chart render
        });
    </script>
</body>
</html>